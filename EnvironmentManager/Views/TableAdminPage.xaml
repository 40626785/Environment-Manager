<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EnvironmentManager.Views.TableAdminPage"
             Title="{Binding Title}">

    <VerticalStackLayout Padding="20">
        <Label Text="{Binding Title}"
               FontSize="20"
               FontAttributes="Bold"/>
        <CollectionView ItemsSource="{Binding Records}"
                        HeightRequest="300">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"
                           LineBreakMode="WordWrap"/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Dynamic Filters -->
        <StackLayout IsVisible="{Binding HasDateFilter}">
            <Label Text="Date:"/>
            <DatePicker Date="{Binding FilterDate}"/>
        </StackLayout>

        <StackLayout IsVisible="{Binding HasIdFilter}">
            <Label Text="Start ID:"/>
            <Entry Keyboard="Numeric"
                   Text="{Binding StartId}"/>
            <Label Text="End ID:"/>
            <Entry Keyboard="Numeric"
                   Text="{Binding EndId}"/>
        </StackLayout>

        <Button Text="Clear Filtered Rows"
                Command="{Binding ClearCommand}"/>

        <CollectionView ItemsSource="{Binding Records}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        <CollectionView ItemsSource="{Binding Records}"
                HeightRequest="300">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"
                            LineBreakMode="WordWrap"/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>
